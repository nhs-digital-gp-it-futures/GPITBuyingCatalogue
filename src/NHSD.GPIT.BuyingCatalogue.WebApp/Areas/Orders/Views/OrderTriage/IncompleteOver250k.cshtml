@using Microsoft.AspNetCore.Mvc.TagHelpers
@using NHSD.GPIT.BuyingCatalogue.EntityFramework.Ordering.Models
@using NHSD.GPIT.BuyingCatalogue.UI.Components.TagHelpers
@using NHSD.GPIT.BuyingCatalogue.UI.Components.Views.Shared.Components.ActionLink
@using NHSD.GPIT.BuyingCatalogue.UI.Components.Views.Shared.Components.NhsSecondaryButton
@using NHSD.GPIT.BuyingCatalogue.WebApp.Areas.Orders.Controllers
@model NHSD.GPIT.BuyingCatalogue.WebApp.Areas.Orders.Models.OrderTriage.GenericOrderTriageModel
@{
    ViewBag.Title = "Orders with a value over £250k";
}

<div>
    <partial name="Partials/_BackLink" model="Model" />
    <div class="nhsuk-grid-row nhsuk-u-margin-bottom-6">
        <div class="nhsuk-grid-column-full">
            <nhs-page-title title="@ViewBag.Title"
                            caption="@Model!.OrganisationName" />

            <p>For orders over £250k, you must execute an Off-Catalogue Competition procedure.</p>

            <p>This means you must invite shortlisted suppliers to provide written tenders. You can then evaluate these tenders and select the Catalogue Solution that best meets your needs based on this information.</p>

            <p>You’ll not be ready to place an order of this value until this procedure has been carried out.</p>

            <vc:nhs-secondary-button text="Return to orders dashboard"
                                     type="Primary"
                                     url="@Model.OrdersDashboardLink" />

            <h2>Need help?</h2>

            <p>
                For help using the Buying Catalogue, contact the National Commercial and Procurement Hub:
            </p>

            <vc:nhs-action-link url="@Url.Action(
                                         nameof(ProcurementHubController.Index),
                                         typeof(ProcurementHubController).ControllerName(),
                                         new { returnUrl = Url.Action(
                                             nameof(OrderTriageController.StepsNotCompleted),
                                             typeof(OrderTriageController).ControllerName(),
                                             new { Model.InternalOrgId, option = OrderTriageValue.Over250K, orderType = OrderTypeEnum.Solution }) })"
                                text="Get procurement support" />
        </div>
    </div>
</div>
