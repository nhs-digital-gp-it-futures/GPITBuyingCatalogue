@using NHSD.GPIT.BuyingCatalogue.WebApp.Areas.Identity.Controllers
@using NHSD.GPIT.BuyingCatalogue.Framework.Extensions
@model NHSD.GPIT.BuyingCatalogue.WebApp.Areas.Identity.Models.UpdatePasswordViewModel
@{
    // TODO: Should set ViewData["Title"] or ViewBag.Title
    ViewData["PageTitle"] = "Update password";
    ViewData["PageDescription"] = "You need to update your password to help keep your account secure. Please read the password policy before proceeding.";
}

<div data-test-id="update-password-page">
    <div class="nhsuk-grid-row">
        <div class="nhsuk-grid-column-two-thirds">
            <nhs-validation-summary />
            <nhs-page-title title="@ViewData["PageTitle"]" advice="@ViewData["PageDescription"]" />
            <div data-test-id="udpate-password-page-information">
                <p>
                    Your password must be at least ten characters in length and match on confirmation. It must also:
                </p>
                <ul>
                    <li>have at least 1 lower case letter (a-z)</li>
                    <li>have at least 1 upper case letter (A-Z)</li>
                    <li>have at least 1 number (0-9)</li>
                    <li>have at least 1 special character (for example, !@@#$%^&*)</li>
                    <li>not match any previous passwords you've used to access the Buying Catalogue</li>
                </ul>
            </div>
            <form data-test-id="input-form" novalidate method="post"
                  asp-controller="@typeof(AccountController).ControllerName()" 
                  asp-action="@nameof(AccountController.UpdatePassword)">

                <nhs-input asp-for="CurrentPassword"
                           label-text="Enter current password" />
                <nhs-input asp-for="NewPassword"
                           label-text="Enter a new password"/>
                <nhs-input asp-for="ConfirmPassword"
                           label-text="Confirm new password"/>

                <nhs-submit-button text="Update password" />
            </form>
        </div>
    </div>
</div>
