@using NHSD.GPIT.BuyingCatalogue.Framework.Constants
@using NHSD.GPIT.BuyingCatalogue.Framework.Extensions;
@using NHSD.GPIT.BuyingCatalogue.WebApp.Areas.Admin.Controllers;

@model NHSD.GPIT.BuyingCatalogue.WebApp.Areas.Admin.Models.ListPriceModels.ManageListPricesModel

@{
    ViewData["Title"] = "Manage List Prices";
}

<partial name="Partials/_BackLink" model="Model" />
<div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-two-thirds">
        <nhs-validation-summary />
        <nhs-page-title title="List price"
                        caption="@Model.CatalogueName"
                        advice="Provide details of how much your Catalogue Solution costs. You must add at least one price type." />

        <vc:nhs-action-link text="Add a price" url="@Url.Action(
                                                   nameof(ListPriceController.Index),
                                                   typeof(ListPriceController).ControllerName())" />

        <nhs-table data-test-id="solution-list-prices">
            <nhs-table-column>Type</nhs-table-column>
            <nhs-table-column>Price</nhs-table-column>
            <nhs-table-column>Unit</nhs-table-column>
            <nhs-table-column>Volume</nhs-table-column>
            <nhs-table-column></nhs-table-column>

            @foreach (var cataloguePrice in Model.CataloguePrices)
            {
            <nhs-table-row-container>
                <nhs-table-cell>@cataloguePrice.CataloguePriceType</nhs-table-cell>
                <nhs-table-cell>@CurrencyCodeSigns.Code[cataloguePrice.CurrencyCode]@cataloguePrice.Price</nhs-table-cell>
                <nhs-table-cell>@cataloguePrice.PricingUnit.Description</nhs-table-cell>
                <nhs-table-cell>N/A</nhs-table-cell>
                <nhs-table-cell><a href="#">Edit</a></nhs-table-cell>
            </nhs-table-row-container>
            }
        </nhs-table>

        <vc:nhs-secondary-button text="Continue" url="@Url.Action(
                                                     nameof(CatalogueSolutionsController.ManageCatalogueSolution),
                                                     typeof(CatalogueSolutionsController).ControllerName(),
                                                     new { solutionId = Model.CatalogueItemId.ToString() })" use-primary-colour="true" />

    </div>
</div>
