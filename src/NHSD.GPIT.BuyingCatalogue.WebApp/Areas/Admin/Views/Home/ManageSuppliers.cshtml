@model IList<NHSD.GPIT.BuyingCatalogue.EntityFramework.Models.GPITBuyingCatalogue.Supplier>;
@{
    Layout = "_Layout";
    ViewData["Title"] = "Manage Suppliers";
}

<div class="nhsuk-width-container">
    <main class="nhsuk-main-wrapper" id="maincontent" role="main">
        <div class="nhsuk-grid-row govuk-!-margin-0">

            <nhs-page-title title="Manage supplier organisations"
                            advice="Add a new supplier organisation or edit the details for one that's already been created." />

            <vc:nhs-action-link url="admin-add-supplier" text="Add a supplier" />

            <div class="app-search__contents">
                <input class="app-search__input ui-autocomplete-input" id="query" placeholder="Search by organisation or ODS code" autocomplete="off" name="query" type="search" maxlength="50">
                <button type="submit" class="app-search__submit">
                    <svg class="icon icon__search" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                        <path d="M19.71 18.29l-4.11-4.1a7 7 0 1 0-1.41 1.41l4.1 4.11a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 10a5 5 0 1 1 5 5 5 5 0 0 1-5-5z" fill="white"></path>
                    </svg>
                    <span class="visually-hidden">Search</span>
                </button>
            </div>

            @if (Model?.Count > 0)
            {
                <nhs-table data-test-id="manage-suppliers-table">
                    <nhs-table-column> Supplier name </nhs-table-column>
                    <nhs-table-column> Supplier ID </nhs-table-column>
                    <nhs-table-column></nhs-table-column>
                    @foreach (var supplierModel in Model)
                    {
                        <nhs-table-row-container>
                            <nhs-table-cell>
                                @supplierModel.Name
                            </nhs-table-cell>
                            <nhs-table-cell>
                                @supplierModel.Id
                            </nhs-table-cell>
                            <nhs-table-cell>
                                <a href="#" data-test-id="edit-link">Edit</a>
                            </nhs-table-cell>
                        </nhs-table-row-container>
                    }
                </nhs-table>
            }
        </div>
    </main>
</div>
