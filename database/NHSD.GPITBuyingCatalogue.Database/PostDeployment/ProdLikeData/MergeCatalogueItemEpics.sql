IF (UPPER('$(INSERT_TEST_DATA)') = 'TRUE')
BEGIN
    /*********************************************************************************************************************************************/
    /* SolutionEpic */
    /*********************************************************************************************************************************************/

    CREATE TABLE #CatalogueItemEpic
    (
        CatalogueItemId nvarchar(14) NOT NULL,
        CapabilityId int NOT NULL,
        EpicId nvarchar(10) NOT NULL,
        StatusId int NOT NULL,
        LastUpdated datetime2(7) NOT NULL,
        LastUpdatedBy int NULL
    );

    DECLARE @bobEmail AS nvarchar(50) = N'BobSmith@email.com';
    DECLARE @bobUser AS int = (SELECT Id FROM users.AspNetUsers WHERE Email = @bobEmail);

    INSERT INTO #CatalogueItemEpic (CatalogueItemId, CapabilityId, EpicId, StatusId, LastUpdated, LastUpdatedBy) 
         VALUES (N'10000-001', 5,  N'C5E1',   1, CAST(N'2020-03-31T10:44:23.3733333' AS datetime2), @bobUser),
                (N'10000-001', 5,  N'C5E2',   1, CAST(N'2020-03-31T10:44:23.3700000' AS datetime2), @bobUser),
                (N'10000-001', 5,  N'C5E3',   1, CAST(N'2020-03-31T10:44:23.3700000' AS datetime2), @bobUser),
                (N'10000-001', 5,  N'C5E4',   1, CAST(N'2020-03-31T10:44:23.3666667' AS datetime2), @bobUser),
                (N'10000-001', 5,  N'C5E5',   1, CAST(N'2020-03-31T10:44:23.3633333' AS datetime2), @bobUser),
                (N'10000-001', 5,  N'C5E6',   1, CAST(N'2020-03-31T10:44:23.3633333' AS datetime2), @bobUser),
                (N'10000-001', 5,  N'C5E7',   1, CAST(N'2020-03-31T10:44:23.3600000' AS datetime2), @bobUser),
                (N'10000-001', 12, N'C12E1',  1, CAST(N'2020-03-31T10:44:23.2566667' AS datetime2), @bobUser),
                (N'10000-001', 12, N'C12E2',  1, CAST(N'2020-03-31T10:44:23.2566667' AS datetime2), @bobUser),
                (N'10000-001', 12, N'C12E3',  1, CAST(N'2020-03-31T10:44:23.2533333' AS datetime2), @bobUser),
                (N'10000-001', 12, N'C12E4',  1, CAST(N'2020-03-31T10:44:23.2533333' AS datetime2), @bobUser),
                (N'10000-001', 12, N'C12E5',  1, CAST(N'2020-03-31T10:44:23.2500000' AS datetime2), @bobUser),
                (N'10000-001', 12, N'C12E6',  1, CAST(N'2020-03-31T10:44:23.2500000' AS datetime2), @bobUser),
                (N'10000-001', 12, N'C12E7',  2, CAST(N'2020-03-31T10:44:23.2466667' AS datetime2), @bobUser),
                (N'10000-001', 30, N'C30E1',  1, CAST(N'2020-03-31T10:44:23.1933333' AS datetime2), @bobUser),
                (N'10000-001', 30, N'C30E10', 2, CAST(N'2020-03-31T10:44:23.1766667' AS datetime2), @bobUser),
                (N'10000-001', 30, N'C30E11', 2, CAST(N'2020-03-31T10:44:23.1766667' AS datetime2), @bobUser),
                (N'10000-001', 30, N'C30E12', 2, CAST(N'2020-03-31T10:44:23.1733333' AS datetime2), @bobUser),
                (N'10000-001', 30, N'C30E13', 2, CAST(N'2020-03-31T10:44:23.1700000' AS datetime2), @bobUser),
                (N'10000-001', 30, N'C30E14', 2, CAST(N'2020-03-31T10:44:23.1700000' AS datetime2), @bobUser),
                (N'10000-001', 30, N'C30E2',  1, CAST(N'2020-03-31T10:44:23.1900000' AS datetime2), @bobUser),
                (N'10000-001', 30, N'C30E3',  1, CAST(N'2020-03-31T10:44:23.1900000' AS datetime2), @bobUser),
                (N'10000-001', 30, N'C30E4',  2, CAST(N'2020-03-31T10:44:23.1866667' AS datetime2), @bobUser),
                (N'10000-001', 30, N'C30E5',  2, CAST(N'2020-03-31T10:44:23.1866667' AS datetime2), @bobUser),
                (N'10000-001', 30, N'C30E6',  2, CAST(N'2020-03-31T10:44:23.1833333' AS datetime2), @bobUser),
                (N'10000-001', 30, N'C30E7',  2, CAST(N'2020-03-31T10:44:23.1800000' AS datetime2), @bobUser),
                (N'10000-001', 30, N'C30E8',  2, CAST(N'2020-03-31T10:44:23.1800000' AS datetime2), @bobUser),
                (N'10000-001', 30, N'C30E9',  2, CAST(N'2020-03-31T10:44:23.1800000' AS datetime2), @bobUser),
                (N'10000-001', 11, N'C11E1',  1, CAST(N'2020-03-31T10:44:23.2633333' AS datetime2), @bobUser),
                (N'10000-001', 11, N'C11E2',  1, CAST(N'2020-03-31T10:44:23.2600000' AS datetime2), @bobUser),
                (N'10000-001', 10, N'C10E1',  1, CAST(N'2020-03-31T10:44:23.3600000' AS datetime2), @bobUser),
                (N'10000-001', 10, N'C10E2',  2, CAST(N'2020-03-31T10:44:23.3566667' AS datetime2), @bobUser),
                (N'10000-001', 17, N'C17E1',  1, CAST(N'2020-03-31T10:44:23.2433333' AS datetime2), @bobUser),
                (N'10000-001', 17, N'C17E2',  2, CAST(N'2020-03-31T10:44:23.2300000' AS datetime2), @bobUser),
                (N'10000-001', 16, N'C16E1',  1, CAST(N'2020-03-31T10:44:23.2600000' AS datetime2), @bobUser),
                (N'10000-001', 13, N'C13E1',  1, CAST(N'2020-03-31T10:44:23.3566667' AS datetime2), @bobUser),
                (N'10000-001', 13, N'C13E10', 1, CAST(N'2020-03-31T10:44:23.3400000' AS datetime2), @bobUser),
                (N'10000-001', 13, N'C13E11', 1, CAST(N'2020-03-31T10:44:23.3400000' AS datetime2), @bobUser),
                (N'10000-001', 13, N'C13E12', 1, CAST(N'2020-03-31T10:44:23.3366667' AS datetime2), @bobUser),
                (N'10000-001', 13, N'C13E13', 2, CAST(N'2020-03-31T10:44:23.3366667' AS datetime2), @bobUser),
                (N'10000-001', 13, N'C13E14', 2, CAST(N'2020-03-31T10:44:23.3333333' AS datetime2), @bobUser),
                (N'10000-001', 13, N'C13E15', 2, CAST(N'2020-03-31T10:44:23.3333333' AS datetime2), @bobUser),
                (N'10000-001', 13, N'C13E16', 2, CAST(N'2020-03-31T10:44:23.3300000' AS datetime2), @bobUser),
                (N'10000-001', 13, N'C13E17', 2, CAST(N'2020-03-31T10:44:23.3300000' AS datetime2), @bobUser),
                (N'10000-001', 13, N'C13E18', 2, CAST(N'2020-03-31T10:44:23.3266667' AS datetime2), @bobUser),
                (N'10000-001', 13, N'C13E19', 2, CAST(N'2020-03-31T10:44:23.3266667' AS datetime2), @bobUser),
                (N'10000-001', 13, N'C13E2',  1, CAST(N'2020-03-31T10:44:23.3533333' AS datetime2), @bobUser),
                (N'10000-001', 13, N'C13E20', 2, CAST(N'2020-03-31T10:44:23.3233333' AS datetime2), @bobUser),
                (N'10000-001', 13, N'C13E21', 2, CAST(N'2020-03-31T10:44:23.3200000' AS datetime2), @bobUser),
                (N'10000-001', 13, N'C13E3',  1, CAST(N'2020-03-31T10:44:23.3533333' AS datetime2), @bobUser),
                (N'10000-001', 13, N'C13E4',  1, CAST(N'2020-03-31T10:44:23.3500000' AS datetime2), @bobUser),
                (N'10000-001', 13, N'C13E5',  1, CAST(N'2020-03-31T10:44:23.3500000' AS datetime2), @bobUser),
                (N'10000-001', 13, N'C13E6',  1, CAST(N'2020-03-31T10:44:23.3466667' AS datetime2), @bobUser),
                (N'10000-001', 13, N'C13E7',  1, CAST(N'2020-03-31T10:44:23.3466667' AS datetime2), @bobUser),
                (N'10000-001', 13, N'C13E8',  1, CAST(N'2020-03-31T10:44:23.3433333' AS datetime2), @bobUser),
                (N'10000-001', 13, N'C13E9',  1, CAST(N'2020-03-31T10:44:23.3433333' AS datetime2), @bobUser),
                (N'10000-001', 15, N'C15E1',  1, CAST(N'2020-03-31T10:44:23.2766667' AS datetime2), @bobUser),
                (N'10000-001', 15, N'C15E2',  1, CAST(N'2020-03-31T10:44:23.2766667' AS datetime2), @bobUser),
                (N'10000-001', 15, N'C15E3',  1, CAST(N'2020-03-31T10:44:23.2733333' AS datetime2), @bobUser),
                (N'10000-001', 15, N'C15E4',  1, CAST(N'2020-03-31T10:44:23.2733333' AS datetime2), @bobUser),
                (N'10000-001', 15, N'C15E5',  1, CAST(N'2020-03-31T10:44:23.2700000' AS datetime2), @bobUser),
                (N'10000-001', 15, N'C15E6',  1, CAST(N'2020-03-31T10:44:23.2700000' AS datetime2), @bobUser),
                (N'10000-001', 15, N'C15E7',  1, CAST(N'2020-03-31T10:44:23.2666667' AS datetime2), @bobUser),
                (N'10000-001', 15, N'C15E8',  1, CAST(N'2020-03-31T10:44:23.2633333' AS datetime2), @bobUser),
                (N'10000-001', 14, N'C14E1',  1, CAST(N'2020-03-31T10:44:23.3100000' AS datetime2), @bobUser),
                (N'10000-001', 14, N'C14E10', 1, CAST(N'2020-03-31T10:44:23.2900000' AS datetime2), @bobUser),
                (N'10000-001', 14, N'C14E11', 1, CAST(N'2020-03-31T10:44:23.2900000' AS datetime2), @bobUser),
                (N'10000-001', 14, N'C14E12', 1, CAST(N'2020-03-31T10:44:23.2866667' AS datetime2), @bobUser),
                (N'10000-001', 14, N'C14E13', 1, CAST(N'2020-03-31T10:44:23.2866667' AS datetime2), @bobUser),
                (N'10000-001', 14, N'C14E14', 2, CAST(N'2020-03-31T10:44:23.2833333' AS datetime2), @bobUser),
                (N'10000-001', 14, N'C14E15', 2, CAST(N'2020-03-31T10:44:23.2800000' AS datetime2), @bobUser),
                (N'10000-001', 14, N'C14E16', 2, CAST(N'2020-03-31T10:44:23.2800000' AS datetime2), @bobUser),
                (N'10000-001', 14, N'C14E2',  1, CAST(N'2020-03-31T10:44:23.3033333' AS datetime2), @bobUser),
                (N'10000-001', 14, N'C14E3',  1, CAST(N'2020-03-31T10:44:23.3033333' AS datetime2), @bobUser),
                (N'10000-001', 14, N'C14E4',  1, CAST(N'2020-03-31T10:44:23.3000000' AS datetime2), @bobUser),
                (N'10000-001', 14, N'C14E5',  1, CAST(N'2020-03-31T10:44:23.3000000' AS datetime2), @bobUser),
                (N'10000-001', 14, N'C14E6',  1, CAST(N'2020-03-31T10:44:23.3000000' AS datetime2), @bobUser),
                (N'10000-001', 14, N'C14E7',  1, CAST(N'2020-03-31T10:44:23.2966667' AS datetime2), @bobUser),
                (N'10000-001', 14, N'C14E8',  1, CAST(N'2020-03-31T10:44:23.2933333' AS datetime2), @bobUser),
                (N'10000-001', 14, N'C14E9',  1, CAST(N'2020-03-31T10:44:23.2933333' AS datetime2), @bobUser),
                (N'10000-001', 6,  N'C6E1',   1, CAST(N'2020-03-31T10:44:23.2133333' AS datetime2), @bobUser),
                (N'10000-001', 6,  N'C6E2',   3, CAST(N'2020-03-31T10:44:23.2000000' AS datetime2), @bobUser),
                (N'10000-001', 6,  N'C6E3',   2, CAST(N'2020-03-31T10:44:23.2000000' AS datetime2), @bobUser),
                (N'10000-001', 6,  N'C6E4',   2, CAST(N'2020-03-31T10:44:23.1966667' AS datetime2), @bobUser),
                (N'10000-001', 20, N'C20E1',  2, CAST(N'2020-03-31T10:44:23.1700000' AS datetime2), @bobUser),
                (N'10000-001', 20, N'C20E10', 2, CAST(N'2020-03-31T10:44:23.1366667' AS datetime2), @bobUser),
                (N'10000-001', 20, N'C20E11', 1, CAST(N'2020-03-31T10:44:23.1333333' AS datetime2), @bobUser),
                (N'10000-001', 20, N'C20E12', 2, CAST(N'2020-03-31T10:44:23.1333333' AS datetime2), @bobUser),
                (N'10000-001', 20, N'C20E13', 2, CAST(N'2020-03-31T10:44:23.1300000' AS datetime2), @bobUser),
                (N'10000-001', 20, N'C20E2',  2, CAST(N'2020-03-31T10:44:23.1666667' AS datetime2), @bobUser),
                (N'10000-001', 20, N'C20E3',  1, CAST(N'2020-03-31T10:44:23.1500000' AS datetime2), @bobUser),
                (N'10000-001', 20, N'C20E4',  2, CAST(N'2020-03-31T10:44:23.1466667' AS datetime2), @bobUser),
                (N'10000-001', 20, N'C20E5',  1, CAST(N'2020-03-31T10:44:23.1466667' AS datetime2), @bobUser),
                (N'10000-001', 20, N'C20E6',  2, CAST(N'2020-03-31T10:44:23.1433333' AS datetime2), @bobUser),
                (N'10000-001', 20, N'C20E7',  1, CAST(N'2020-03-31T10:44:23.1400000' AS datetime2), @bobUser),
                (N'10000-001', 20, N'C20E8',  2, CAST(N'2020-03-31T10:44:23.1400000' AS datetime2), @bobUser),
                (N'10000-001', 20, N'C20E9',  1, CAST(N'2020-03-31T10:44:23.1366667' AS datetime2), @bobUser),
                (N'10004-001', 35, N'C35E1',  1, CAST(N'2020-03-31T11:41:49.3900000' AS datetime2), @bobUser),
                (N'10004-001', 34, N'C34E1',  1, CAST(N'2020-03-31T11:41:49.3866667' AS datetime2), @bobUser),
                (N'10004-001', 34, N'C34E2',  1, CAST(N'2020-03-31T11:41:49.3866667' AS datetime2), @bobUser),
                (N'10004-001', 34, N'C34E3',  1, CAST(N'2020-03-31T11:41:49.3833333' AS datetime2), @bobUser),
                (N'10004-001', 34, N'C34E4',  1, CAST(N'2020-03-31T11:41:49.3833333' AS datetime2), @bobUser),
                (N'10004-001', 34, N'C34E5',  1, CAST(N'2020-03-31T11:41:49.3800000' AS datetime2), @bobUser),
                (N'10004-001', 34, N'C34E6',  2, CAST(N'2020-03-31T11:41:49.3800000' AS datetime2), @bobUser),
                (N'10004-001', 6,  N'C6E1',   1, CAST(N'2020-03-31T11:41:49.3766667' AS datetime2), @bobUser),
                (N'10004-001', 6,  N'C6E2',   1, CAST(N'2020-03-31T11:41:49.3633333' AS datetime2), @bobUser),
                (N'10004-001', 6,  N'C6E3',   1, CAST(N'2020-03-31T11:41:49.3633333' AS datetime2), @bobUser),
                (N'10004-001', 6,  N'C6E4',   2, CAST(N'2020-03-31T11:41:49.3600000' AS datetime2), @bobUser),
                (N'10004-002', 5,  N'C5E1',   1, CAST(N'2020-03-30T16:13:21.2300000' AS datetime2), @bobUser),
                (N'10004-002', 5,  N'C5E2',   1, CAST(N'2020-03-30T16:13:21.2300000' AS datetime2), @bobUser),
                (N'10004-002', 5,  N'C5E3',   1, CAST(N'2020-03-30T16:13:21.2266667' AS datetime2), @bobUser),
                (N'10004-002', 5,  N'C5E4',   1, CAST(N'2020-03-30T16:13:21.2266667' AS datetime2), @bobUser),
                (N'10004-002', 5,  N'C5E5',   1, CAST(N'2020-03-30T16:13:21.2233333' AS datetime2), @bobUser),
                (N'10004-002', 5,  N'C5E6',   1, CAST(N'2020-03-30T16:13:21.2200000' AS datetime2), @bobUser),
                (N'10004-002', 5,  N'C5E7',   1, CAST(N'2020-03-30T16:13:21.2200000' AS datetime2), @bobUser),
                (N'10007-002', 6,  N'C6E1',   1, CAST(N'2020-03-25T12:49:14.9000000' AS datetime2), @bobUser),
                (N'10007-002', 6,  N'C6E2',   2, CAST(N'2020-03-25T12:49:14.9000000' AS datetime2), @bobUser),
                (N'10007-002', 6,  N'C6E3',   2, CAST(N'2020-03-25T12:49:14.8966667' AS datetime2), @bobUser),
                (N'10007-002', 6,  N'C6E4',   2, CAST(N'2020-03-25T12:49:14.8966667' AS datetime2), @bobUser),
                (N'10035-001', 3,  N'C3E1',   1, CAST(N'2020-04-01T13:13:06.5500000' AS datetime2), @bobUser),
                (N'10035-001', 3,  N'C3E10',  2, CAST(N'2020-04-01T13:13:06.5300000' AS datetime2), @bobUser),
                (N'10035-001', 3,  N'C3E2',   1, CAST(N'2020-04-01T13:13:06.5466667' AS datetime2), @bobUser),
                (N'10035-001', 3,  N'C3E3',   2, CAST(N'2020-04-01T13:13:06.5433333' AS datetime2), @bobUser),
                (N'10035-001', 3,  N'C3E4',   2, CAST(N'2020-04-01T13:13:06.5433333' AS datetime2), @bobUser),
                (N'10035-001', 3,  N'C3E5',   2, CAST(N'2020-04-01T13:13:06.5400000' AS datetime2), @bobUser),
                (N'10035-001', 3,  N'C3E6',   2, CAST(N'2020-04-01T13:13:06.5400000' AS datetime2), @bobUser),
                (N'10035-001', 3,  N'C3E7',   2, CAST(N'2020-04-01T13:13:06.5366667' AS datetime2), @bobUser),
                (N'10035-001', 3,  N'C3E8',   2, CAST(N'2020-04-01T13:13:06.5366667' AS datetime2), @bobUser),
                (N'10035-001', 3,  N'C3E9',   2, CAST(N'2020-04-01T13:13:06.5333333' AS datetime2), @bobUser),
                (N'10035-001', 33, N'C33E1',  1, CAST(N'2020-04-01T13:13:06.5266667' AS datetime2), @bobUser),
                (N'10035-001', 33, N'C33E2',  2, CAST(N'2020-04-01T13:13:06.5233333' AS datetime2), @bobUser),
                (N'10035-001', 33, N'C33E3',  2, CAST(N'2020-04-01T13:13:06.5200000' AS datetime2), @bobUser),
                (N'10035-001', 33, N'C33E4',  2, CAST(N'2020-04-01T13:13:06.5200000' AS datetime2), @bobUser),
                (N'10035-001', 1,  N'C1E1',   1, CAST(N'2020-04-01T13:13:06.5566667' AS datetime2), @bobUser),
                (N'10035-001', 1,  N'C1E2',   2, CAST(N'2020-04-01T13:13:06.5533333' AS datetime2), @bobUser),
                (N'10035-001', 2,  N'C2E1',   1, CAST(N'2020-04-01T13:13:06.5533333' AS datetime2), @bobUser),
                (N'10035-001', 2,  N'C2E2',   2, CAST(N'2020-04-01T13:13:06.5500000' AS datetime2), @bobUser),
                (N'10035-001', 4,  N'C4E1',   1, CAST(N'2020-04-01T13:13:06.5300000' AS datetime2), @bobUser),
                (N'10035-001', 4,  N'C4E2',   2, CAST(N'2020-04-01T13:13:06.5300000' AS datetime2), @bobUser),
                (N'10046-001', 9,  N'C9E1',   1, CAST(N'2020-03-30T16:22:34.7266667' AS datetime2), @bobUser),
                (N'10046-001', 9,  N'C9E10',  1, CAST(N'2020-03-30T16:22:34.7100000' AS datetime2), @bobUser),
                (N'10046-001', 9,  N'C9E11',  1, CAST(N'2020-03-30T16:22:34.7100000' AS datetime2), @bobUser),
                (N'10046-001', 9,  N'C9E12',  1, CAST(N'2020-03-30T16:22:34.7066667' AS datetime2), @bobUser),
                (N'10046-001', 9,  N'C9E13',  1, CAST(N'2020-03-30T16:22:34.7066667' AS datetime2), @bobUser),
                (N'10046-001', 9,  N'C9E14',  1, CAST(N'2020-03-30T16:22:34.7033333' AS datetime2), @bobUser),
                (N'10046-001', 9,  N'C9E15',  1, CAST(N'2020-03-30T16:22:34.7033333' AS datetime2), @bobUser),
                (N'10046-001', 9,  N'C9E16',  1, CAST(N'2020-03-30T16:22:34.7000000' AS datetime2), @bobUser),
                (N'10046-001', 9,  N'C9E17',  1, CAST(N'2020-03-30T16:22:34.6933333' AS datetime2), @bobUser),
                (N'10046-001', 9,  N'C9E2',   1, CAST(N'2020-03-30T16:22:34.7233333' AS datetime2), @bobUser),
                (N'10046-001', 9,  N'C9E3',   1, CAST(N'2020-03-30T16:22:34.7233333' AS datetime2), @bobUser),
                (N'10046-001', 9,  N'C9E4',   1, CAST(N'2020-03-30T16:22:34.7200000' AS datetime2), @bobUser),
                (N'10046-001', 9,  N'C9E5',   1, CAST(N'2020-03-30T16:22:34.7200000' AS datetime2), @bobUser),
                (N'10046-001', 9,  N'C9E6',   1, CAST(N'2020-03-30T16:22:34.7166667' AS datetime2), @bobUser),
                (N'10046-001', 9,  N'C9E7',   1, CAST(N'2020-03-30T16:22:34.7166667' AS datetime2), @bobUser),
                (N'10046-001', 9,  N'C9E8',   1, CAST(N'2020-03-30T16:22:34.7133333' AS datetime2), @bobUser),
                (N'10046-001', 9,  N'C9E9',   1, CAST(N'2020-03-30T16:22:34.7133333' AS datetime2), @bobUser),
                (N'10046-001', 17, N'C17E1',  1, CAST(N'2020-03-30T16:22:34.6900000' AS datetime2), @bobUser),
                (N'10046-001', 17, N'C17E2',  2, CAST(N'2020-03-30T16:22:34.6900000' AS datetime2), @bobUser),
                (N'10046-001', 19, N'C19E1',  1, CAST(N'2020-03-30T16:22:34.6866667' AS datetime2), @bobUser),
                (N'10046-001', 19, N'C19E2',  1, CAST(N'2020-03-30T16:22:34.6866667' AS datetime2), @bobUser),
                (N'10046-001', 19, N'C19E3',  1, CAST(N'2020-03-30T16:22:34.6833333' AS datetime2), @bobUser),
                (N'10046-001', 20, N'C20E1',  1, CAST(N'2020-03-30T16:22:34.6833333' AS datetime2), @bobUser),
                (N'10046-001', 20, N'C20E10', 1, CAST(N'2020-03-30T16:22:34.6600000' AS datetime2), @bobUser),
                (N'10046-001', 20, N'C20E11', 1, CAST(N'2020-03-30T16:22:34.6566667' AS datetime2), @bobUser),
                (N'10046-001', 20, N'C20E12', 1, CAST(N'2020-03-30T16:22:34.6566667' AS datetime2), @bobUser),
                (N'10046-001', 20, N'C20E13', 2, CAST(N'2020-03-30T16:22:34.6533333' AS datetime2), @bobUser),
                (N'10046-001', 20, N'C20E2',  2, CAST(N'2020-03-30T16:22:34.6733333' AS datetime2), @bobUser),
                (N'10046-001', 20, N'C20E3',  1, CAST(N'2020-03-30T16:22:34.6700000' AS datetime2), @bobUser),
                (N'10046-001', 20, N'C20E4',  1, CAST(N'2020-03-30T16:22:34.6700000' AS datetime2), @bobUser),
                (N'10046-001', 20, N'C20E5',  3, CAST(N'2020-03-30T16:22:34.6666667' AS datetime2), @bobUser),
                (N'10046-001', 20, N'C20E6',  3, CAST(N'2020-03-30T16:22:34.6666667' AS datetime2), @bobUser),
                (N'10046-001', 20, N'C20E7',  1, CAST(N'2020-03-30T16:22:34.6633333' AS datetime2), @bobUser),
                (N'10046-001', 20, N'C20E8',  2, CAST(N'2020-03-30T16:22:34.6633333' AS datetime2), @bobUser),
                (N'10046-001', 20, N'C20E9',  1, CAST(N'2020-03-30T16:22:34.6600000' AS datetime2), @bobUser),
                (N'10046-003', 9,  N'C9E1',   1, CAST(N'2020-03-30T16:18:23.4633333' AS datetime2), @bobUser),
                (N'10046-003', 9,  N'C9E10',  1, CAST(N'2020-03-30T16:18:23.4466667' AS datetime2), @bobUser),
                (N'10046-003', 9,  N'C9E11',  1, CAST(N'2020-03-30T16:18:23.4466667' AS datetime2), @bobUser),
                (N'10046-003', 9,  N'C9E12',  1, CAST(N'2020-03-30T16:18:23.4433333' AS datetime2), @bobUser),
                (N'10046-003', 9,  N'C9E13',  1, CAST(N'2020-03-30T16:18:23.4400000' AS datetime2), @bobUser),
                (N'10046-003', 9,  N'C9E14',  1, CAST(N'2020-03-30T16:18:23.4400000' AS datetime2), @bobUser),
                (N'10046-003', 9,  N'C9E15',  1, CAST(N'2020-03-30T16:18:23.4366667' AS datetime2), @bobUser),
                (N'10046-003', 9,  N'C9E16',  1, CAST(N'2020-03-30T16:18:23.4366667' AS datetime2), @bobUser),
                (N'10046-003', 9,  N'C9E17',  3, CAST(N'2020-03-30T16:18:23.4333333' AS datetime2), @bobUser),
                (N'10046-003', 9,  N'C9E2',   1, CAST(N'2020-03-30T16:18:23.4600000' AS datetime2), @bobUser),
                (N'10046-003', 9,  N'C9E3',   1, CAST(N'2020-03-30T16:18:23.4600000' AS datetime2), @bobUser),
                (N'10046-003', 9,  N'C9E4',   3, CAST(N'2020-03-30T16:18:23.4566667' AS datetime2), @bobUser),
                (N'10046-003', 9,  N'C9E5',   1, CAST(N'2020-03-30T16:18:23.4566667' AS datetime2), @bobUser),
                (N'10046-003', 9,  N'C9E6',   1, CAST(N'2020-03-30T16:18:23.4533333' AS datetime2), @bobUser),
                (N'10046-003', 9,  N'C9E7',   3, CAST(N'2020-03-30T16:18:23.4500000' AS datetime2), @bobUser),
                (N'10046-003', 9,  N'C9E8',   1, CAST(N'2020-03-30T16:18:23.4500000' AS datetime2), @bobUser),
                (N'10046-003', 9,  N'C9E9',   1, CAST(N'2020-03-30T16:18:23.4500000' AS datetime2), @bobUser),
                (N'10046-003', 17, N'C17E1',  1, CAST(N'2020-03-30T16:18:23.4333333' AS datetime2), @bobUser),
                (N'10046-003', 17, N'C17E2',  2, CAST(N'2020-03-30T16:18:23.4300000' AS datetime2), @bobUser),
                (N'10052-002', 3,  N'C3E1',   1, CAST(N'2020-03-31T14:22:18.0033333' AS datetime2), @bobUser),
                (N'10052-002', 3,  N'C3E10',  2, CAST(N'2020-03-31T14:22:17.9900000' AS datetime2), @bobUser),
                (N'10052-002', 3,  N'C3E2',   1, CAST(N'2020-03-31T14:22:18.0033333' AS datetime2), @bobUser),
                (N'10052-002', 3,  N'C3E3',   2, CAST(N'2020-03-31T14:22:18.0000000' AS datetime2), @bobUser),
                (N'10052-002', 3,  N'C3E4',   2, CAST(N'2020-03-31T14:22:18.0000000' AS datetime2), @bobUser),
                (N'10052-002', 3,  N'C3E5',   2, CAST(N'2020-03-31T14:22:17.9966667' AS datetime2), @bobUser),
                (N'10052-002', 3,  N'C3E6',   2, CAST(N'2020-03-31T14:22:17.9933333' AS datetime2), @bobUser),
                (N'10052-002', 3,  N'C3E7',   2, CAST(N'2020-03-31T14:22:17.9933333' AS datetime2), @bobUser),
                (N'10052-002', 3,  N'C3E8',   2, CAST(N'2020-03-31T14:22:17.9900000' AS datetime2), @bobUser),
                (N'10052-002', 3,  N'C3E9',   2, CAST(N'2020-03-31T14:22:17.9900000' AS datetime2), @bobUser),
                (N'10052-002', 23, N'C23E6',  2, CAST(N'2020-03-31T14:22:17.9200000' AS datetime2), @bobUser),
                (N'10052-002', 23, N'C23E7',  2, CAST(N'2020-03-31T14:22:17.9200000' AS datetime2), @bobUser),
                (N'10052-002', 23, N'C23E8',  2, CAST(N'2020-03-31T14:22:17.9166667' AS datetime2), @bobUser),
                (N'10052-002', 23, N'C23E9',  2, CAST(N'2020-03-31T14:22:17.9133333' AS datetime2), @bobUser),
                (N'10052-002', 5,  N'C5E1',   1, CAST(N'2020-03-31T14:22:17.9800000' AS datetime2), @bobUser),
                (N'10052-002', 5,  N'C5E2',   1, CAST(N'2020-03-31T14:22:17.9800000' AS datetime2), @bobUser),
                (N'10052-002', 5,  N'C5E3',   1, CAST(N'2020-03-31T14:22:17.9766667' AS datetime2), @bobUser),
                (N'10052-002', 5,  N'C5E4',   1, CAST(N'2020-03-31T14:22:17.9766667' AS datetime2), @bobUser),
                (N'10052-002', 5,  N'C5E5',   1, CAST(N'2020-03-31T14:22:17.9733333' AS datetime2), @bobUser),
                (N'10052-002', 5,  N'C5E6',   1, CAST(N'2020-03-31T14:22:17.9733333' AS datetime2), @bobUser),
                (N'10052-002', 5,  N'C5E7',   1, CAST(N'2020-03-31T14:22:17.9700000' AS datetime2), @bobUser),
                (N'10052-002', 12, N'C12E1',  1, CAST(N'2020-03-31T14:22:17.9500000' AS datetime2), @bobUser),
                (N'10052-002', 12, N'C12E2',  1, CAST(N'2020-03-31T14:22:17.9466667' AS datetime2), @bobUser),
                (N'10052-002', 12, N'C12E3',  1, CAST(N'2020-03-31T14:22:17.9466667' AS datetime2), @bobUser),
                (N'10052-002', 12, N'C12E4',  1, CAST(N'2020-03-31T14:22:17.9433333' AS datetime2), @bobUser),
                (N'10052-002', 12, N'C12E5',  1, CAST(N'2020-03-31T14:22:17.9433333' AS datetime2), @bobUser),
                (N'10052-002', 12, N'C12E6',  1, CAST(N'2020-03-31T14:22:17.9400000' AS datetime2), @bobUser),
                (N'10052-002', 12, N'C12E7',  2, CAST(N'2020-03-31T14:22:17.9400000' AS datetime2), @bobUser),
                (N'10052-002', 39, N'C39E1',  1, CAST(N'2020-03-31T14:22:18.1166667' AS datetime2), @bobUser),
                (N'10052-002', 39, N'C39E2',  2, CAST(N'2020-03-31T14:22:18.1133333' AS datetime2), @bobUser),
                (N'10052-002', 39, N'C39E3',  2, CAST(N'2020-03-31T14:22:18.1133333' AS datetime2), @bobUser),
                (N'10052-002', 11, N'C11E1',  1, CAST(N'2020-03-31T14:22:18.0833333' AS datetime2), @bobUser),
                (N'10052-002', 11, N'C11E2',  1, CAST(N'2020-03-31T14:22:18.0833333' AS datetime2), @bobUser),
                (N'10052-002', 7,  N'C7E1',   1, CAST(N'2020-03-31T14:22:17.9700000' AS datetime2), @bobUser),
                (N'10052-002', 7,  N'C7E10',  3, CAST(N'2020-03-31T14:22:17.9533333' AS datetime2), @bobUser),
                (N'10052-002', 7,  N'C7E2',   3, CAST(N'2020-03-31T14:22:17.9666667' AS datetime2), @bobUser),
                (N'10052-002', 7,  N'C7E3',   1, CAST(N'2020-03-31T14:22:17.9666667' AS datetime2), @bobUser),
                (N'10052-002', 7,  N'C7E4',   3, CAST(N'2020-03-31T14:22:17.9633333' AS datetime2), @bobUser),
                (N'10052-002', 7,  N'C7E5',   1, CAST(N'2020-03-31T14:22:17.9633333' AS datetime2), @bobUser),
                (N'10052-002', 7,  N'C7E6',   1, CAST(N'2020-03-31T14:22:17.9600000' AS datetime2), @bobUser),
                (N'10052-002', 7,  N'C7E7',   1, CAST(N'2020-03-31T14:22:17.9600000' AS datetime2), @bobUser),
                (N'10052-002', 7,  N'C7E8',   3, CAST(N'2020-03-31T14:22:17.9566667' AS datetime2), @bobUser),
                (N'10052-002', 7,  N'C7E9',   3, CAST(N'2020-03-31T14:22:17.9566667' AS datetime2), @bobUser),
                (N'10052-002', 16, N'C16E1',  1, CAST(N'2020-03-31T14:22:17.9866667' AS datetime2), @bobUser),
                (N'10052-002', 13, N'C13E1',  1, CAST(N'2020-03-31T14:22:18.0400000' AS datetime2), @bobUser),
                (N'10052-002', 13, N'C13E10', 1, CAST(N'2020-03-31T14:22:18.0266667' AS datetime2), @bobUser),
                (N'10052-002', 13, N'C13E11', 1, CAST(N'2020-03-31T14:22:18.0233333' AS datetime2), @bobUser),
                (N'10052-002', 13, N'C13E12', 1, CAST(N'2020-03-31T14:22:18.0233333' AS datetime2), @bobUser),
                (N'10052-002', 13, N'C13E13', 1, CAST(N'2020-03-31T14:22:18.0200000' AS datetime2), @bobUser),
                (N'10052-002', 13, N'C13E14', 1, CAST(N'2020-03-31T14:22:18.0200000' AS datetime2), @bobUser),
                (N'10052-002', 13, N'C13E15', 2, CAST(N'2020-03-31T14:22:18.0166667' AS datetime2), @bobUser),
                (N'10052-002', 13, N'C13E16', 2, CAST(N'2020-03-31T14:22:18.0133333' AS datetime2), @bobUser),
                (N'10052-002', 13, N'C13E17', 2, CAST(N'2020-03-31T14:22:18.0133333' AS datetime2), @bobUser),
                (N'10052-002', 13, N'C13E18', 2, CAST(N'2020-03-31T14:22:18.0100000' AS datetime2), @bobUser),
                (N'10052-002', 13, N'C13E19', 2, CAST(N'2020-03-31T14:22:18.0100000' AS datetime2), @bobUser),
                (N'10052-002', 13, N'C13E2',  1, CAST(N'2020-03-31T14:22:18.0400000' AS datetime2), @bobUser),
                (N'10052-002', 13, N'C13E20', 2, CAST(N'2020-03-31T14:22:18.0066667' AS datetime2), @bobUser),
                (N'10052-002', 13, N'C13E21', 2, CAST(N'2020-03-31T14:22:18.0066667' AS datetime2), @bobUser),
                (N'10052-002', 13, N'C13E3',  1, CAST(N'2020-03-31T14:22:18.0366667' AS datetime2), @bobUser),
                (N'10052-002', 13, N'C13E4',  1, CAST(N'2020-03-31T14:22:18.0366667' AS datetime2), @bobUser),
                (N'10052-002', 13, N'C13E5',  1, CAST(N'2020-03-31T14:22:18.0333333' AS datetime2), @bobUser),
                (N'10052-002', 13, N'C13E6',  1, CAST(N'2020-03-31T14:22:18.0333333' AS datetime2), @bobUser),
                (N'10052-002', 13, N'C13E7',  1, CAST(N'2020-03-31T14:22:18.0300000' AS datetime2), @bobUser),
                (N'10052-002', 13, N'C13E8',  1, CAST(N'2020-03-31T14:22:18.0300000' AS datetime2), @bobUser),
                (N'10052-002', 13, N'C13E9',  1, CAST(N'2020-03-31T14:22:18.0266667' AS datetime2), @bobUser),
                (N'10052-002', 1,  N'C1E1',   1, CAST(N'2020-03-31T14:22:18.1333333' AS datetime2), @bobUser),
                (N'10052-002', 1,  N'C1E2',   1, CAST(N'2020-03-31T14:22:18.1300000' AS datetime2), @bobUser),
                (N'10052-002', 2,  N'C2E1',   1, CAST(N'2020-03-31T14:22:17.9533333' AS datetime2), @bobUser),
                (N'10052-002', 2,  N'C2E2',   1, CAST(N'2020-03-31T14:22:17.9500000' AS datetime2), @bobUser),
                (N'10052-002', 26, N'C26E1',  1, CAST(N'2020-03-31T14:22:17.9366667' AS datetime2), @bobUser),
                (N'10052-002', 26, N'C26E10', 1, CAST(N'2020-03-31T14:22:17.9200000' AS datetime2), @bobUser),
                (N'10052-002', 26, N'C26E2',  1, CAST(N'2020-03-31T14:22:17.9366667' AS datetime2), @bobUser),
                (N'10052-002', 26, N'C26E3',  1, CAST(N'2020-03-31T14:22:17.9333333' AS datetime2), @bobUser),
                (N'10052-002', 26, N'C26E4',  1, CAST(N'2020-03-31T14:22:17.9333333' AS datetime2), @bobUser),
                (N'10052-002', 26, N'C26E5',  3, CAST(N'2020-03-31T14:22:17.9300000' AS datetime2), @bobUser),
                (N'10052-002', 26, N'C26E6',  1, CAST(N'2020-03-31T14:22:17.9300000' AS datetime2), @bobUser),
                (N'10052-002', 26, N'C26E7',  2, CAST(N'2020-03-31T14:22:17.9266667' AS datetime2), @bobUser),
                (N'10052-002', 26, N'C26E8',  1, CAST(N'2020-03-31T14:22:17.9266667' AS datetime2), @bobUser),
                (N'10052-002', 26, N'C26E9',  3, CAST(N'2020-03-31T14:22:17.9233333' AS datetime2), @bobUser),
                (N'10052-002', 36, N'C36E1',  1, CAST(N'2020-03-31T14:22:18.1100000' AS datetime2), @bobUser),
                (N'10052-002', 36, N'C36E10', 2, CAST(N'2020-03-31T14:22:18.0900000' AS datetime2), @bobUser),
                (N'10052-002', 36, N'C36E11', 2, CAST(N'2020-03-31T14:22:18.0900000' AS datetime2), @bobUser),
                (N'10052-002', 36, N'C36E12', 2, CAST(N'2020-03-31T14:22:18.0866667' AS datetime2), @bobUser),
                (N'10052-002', 36, N'C36E2',  1, CAST(N'2020-03-31T14:22:18.1100000' AS datetime2), @bobUser),
                (N'10052-002', 36, N'C36E3',  1, CAST(N'2020-03-31T14:22:18.1066667' AS datetime2), @bobUser),
                (N'10052-002', 36, N'C36E4',  1, CAST(N'2020-03-31T14:22:18.1033333' AS datetime2), @bobUser),
                (N'10052-002', 36, N'C36E5',  2, CAST(N'2020-03-31T14:22:18.1033333' AS datetime2), @bobUser),
                (N'10052-002', 36, N'C36E6',  2, CAST(N'2020-03-31T14:22:18.0966667' AS datetime2), @bobUser),
                (N'10052-002', 36, N'C36E7',  2, CAST(N'2020-03-31T14:22:18.0966667' AS datetime2), @bobUser),
                (N'10052-002', 36, N'C36E8',  2, CAST(N'2020-03-31T14:22:18.0933333' AS datetime2), @bobUser),
                (N'10052-002', 36, N'C36E9',  2, CAST(N'2020-03-31T14:22:18.0900000' AS datetime2), @bobUser),
                (N'10052-002', 15, N'C15E1',  1, CAST(N'2020-03-31T14:22:18.1300000' AS datetime2), @bobUser),
                (N'10052-002', 15, N'C15E2',  1, CAST(N'2020-03-31T14:22:18.1266667' AS datetime2), @bobUser),
                (N'10052-002', 15, N'C15E3',  1, CAST(N'2020-03-31T14:22:18.1266667' AS datetime2), @bobUser),
                (N'10052-002', 15, N'C15E4',  1, CAST(N'2020-03-31T14:22:18.1233333' AS datetime2), @bobUser),
                (N'10052-002', 15, N'C15E5',  1, CAST(N'2020-03-31T14:22:18.1233333' AS datetime2), @bobUser),
                (N'10052-002', 15, N'C15E6',  1, CAST(N'2020-03-31T14:22:18.1200000' AS datetime2), @bobUser),
                (N'10052-002', 15, N'C15E7',  1, CAST(N'2020-03-31T14:22:18.1200000' AS datetime2), @bobUser),
                (N'10052-002', 15, N'C15E8',  1, CAST(N'2020-03-31T14:22:18.1166667' AS datetime2), @bobUser),
                (N'10052-002', 14, N'C14E1',  1, CAST(N'2020-03-31T14:22:18.0800000' AS datetime2), @bobUser),
                (N'10052-002', 14, N'C14E10', 1, CAST(N'2020-03-31T14:22:18.0600000' AS datetime2), @bobUser),
                (N'10052-002', 14, N'C14E11', 1, CAST(N'2020-03-31T14:22:18.0566667' AS datetime2), @bobUser),
                (N'10052-002', 14, N'C14E12', 1, CAST(N'2020-03-31T14:22:18.0533333' AS datetime2), @bobUser),
                (N'10052-002', 14, N'C14E13', 1, CAST(N'2020-03-31T14:22:18.0466667' AS datetime2), @bobUser),
                (N'10052-002', 14, N'C14E14', 2, CAST(N'2020-03-31T14:22:18.0466667' AS datetime2), @bobUser),
                (N'10052-002', 14, N'C14E15', 2, CAST(N'2020-03-31T14:22:18.0433333' AS datetime2), @bobUser),
                (N'10052-002', 14, N'C14E16', 2, CAST(N'2020-03-31T14:22:18.0433333' AS datetime2), @bobUser),
                (N'10052-002', 14, N'C14E2',  1, CAST(N'2020-03-31T14:22:18.0800000' AS datetime2), @bobUser),
                (N'10052-002', 14, N'C14E3',  1, CAST(N'2020-03-31T14:22:18.0766667' AS datetime2), @bobUser),
                (N'10052-002', 14, N'C14E4',  1, CAST(N'2020-03-31T14:22:18.0733333' AS datetime2), @bobUser),
                (N'10052-002', 14, N'C14E5',  1, CAST(N'2020-03-31T14:22:18.0733333' AS datetime2), @bobUser),
                (N'10052-002', 14, N'C14E6',  1, CAST(N'2020-03-31T14:22:18.0700000' AS datetime2), @bobUser),
                (N'10052-002', 14, N'C14E7',  1, CAST(N'2020-03-31T14:22:18.0666667' AS datetime2), @bobUser),
                (N'10052-002', 14, N'C14E8',  1, CAST(N'2020-03-31T14:22:18.0633333' AS datetime2), @bobUser),
                (N'10052-002', 14, N'C14E9',  1, CAST(N'2020-03-31T14:22:18.0600000' AS datetime2), @bobUser),
                (N'10052-002', 4,  N'C4E1',   1, CAST(N'2020-03-31T14:22:17.9866667' AS datetime2), @bobUser),
                (N'10052-002', 4,  N'C4E2',   2, CAST(N'2020-03-31T14:22:17.9833333' AS datetime2), @bobUser),
                (N'10059-001', 6,  N'C6E1',   1, CAST(N'2020-03-30T16:08:55.3200000' AS datetime2), @bobUser),
                (N'10059-001', 6,  N'C6E2',   1, CAST(N'2020-03-30T16:08:55.3200000' AS datetime2), @bobUser),
                (N'10059-001', 6,  N'C6E3',   1, CAST(N'2020-03-30T16:08:55.3166667' AS datetime2), @bobUser),
                (N'10059-001', 6,  N'C6E4',   2, CAST(N'2020-03-30T16:08:55.3166667' AS datetime2), @bobUser);

    MERGE INTO catalogue.CatalogueItemEpics AS TARGET
    USING #CatalogueItemEpic AS SOURCE
    ON TARGET.CatalogueItemId = SOURCE.CatalogueItemId AND TARGET.CapabilityId = SOURCE.CapabilityId AND TARGET.EpicId = SOURCE.EpicId 
    WHEN MATCHED THEN
           UPDATE SET TARGET.StatusId = SOURCE.StatusId,
                      TARGET.LastUpdated = SOURCE.LastUpdated,
                      TARGET.LastUpdatedBy = SOURCE.LastUpdatedBy
    WHEN NOT MATCHED BY TARGET THEN
        INSERT (CatalogueItemId, CapabilityId, EpicId, StatusId, LastUpdated, LastUpdatedBy)
        VALUES (SOURCE.CatalogueItemId, SOURCE.CapabilityId, SOURCE.EpicId, SOURCE.StatusId, SOURCE.LastUpdated, SOURCE.LastUpdatedBy);
END;
GO
